<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Generating documentation &mdash; Packaging Demo  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Code Documentation" href="code_docs.html" />
    <link rel="prev" title="Add tests" href="testing.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> Packaging Demo
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="repo_creation.html">Initialise new repository</a></li>
<li class="toctree-l1"><a class="reference internal" href="set_up_environment.html">Environment set up</a></li>
<li class="toctree-l1"><a class="reference internal" href="add_supporting_files.html">Add supporting files</a></li>
<li class="toctree-l1"><a class="reference internal" href="package_setup.html">Create demo package</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Write some examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="testing.html">Add tests</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Generating documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#create-readme-md">Create README.md</a></li>
<li class="toctree-l2"><a class="reference internal" href="#code-comments-and-doc-strings">Code comments and doc strings</a></li>
<li class="toctree-l2"><a class="reference internal" href="#detailed-documentation-and-examples">Detailed documentation and examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="#setting-up-sphinx">Setting up sphinx</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#generating-sphinx-html">Generating sphinx html</a></li>
<li class="toctree-l3"><a class="reference internal" href="#updating-the-docsrc-to-actually-reflect-your-code">Updating the docsrc to actually reflect your code!</a></li>
<li class="toctree-l3"><a class="reference internal" href="#markdown-versus-rst">Markdown versus RST</a></li>
<li class="toctree-l3"><a class="reference internal" href="#setting-up-sphinx-to-scan-your-code-base-and-automatically-generate-docs">setting up sphinx to scan your code base and automatically generate docs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#hosting-sphinx-html-with-github">hosting sphinx html with github</a></li>
<li class="toctree-l3"><a class="reference internal" href="#adding-a-link-to-the-new-webpage-to-github">adding a link to the new webpage to github</a></li>
<li class="toctree-l3"><a class="reference internal" href="#changing-html-theme">changing html theme</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="code_docs.html">Code Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="packaging.html">Packaging</a></li>
<li class="toctree-l1"><a class="reference internal" href="uploading.html">Uploading to PyPi (or test PyPi in this case)</a></li>
<li class="toctree-l1"><a class="reference internal" href="gh_workflows_CI.html">GitHub workflows for continuous integration</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Packaging Demo</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Generating documentation</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/documentation.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="generating-documentation">
<h1>Generating documentation<a class="headerlink" href="#generating-documentation" title="Permalink to this heading"></a></h1>
<p>There are probably three main levels of documentation for your code.</p>
<ol class="arabic simple">
<li><p>Readme.md: This is non negotiable!  Although it is acceptable in simple cases to essentially put all the documentation in the readme, in general it is better practice for the readme to be ‘short and sharp’ and provide detailed documentation elsewhere. See <a class="reference external" href="https://github.sydney.edu.au/Image-X/Template">here</a> for a good template.</p></li>
<li><p>Comments and docstrings in your code! These can also be incorporated into your general documentation using sphinx.</p></li>
<li><p>Detailed documentation and examples. This can be done a number of ways; you could:</p>
<ol class="arabic simple">
<li><p>add some jupyter notebooks to your repository inside an examples folder</p></li>
<li><p>Generate html documentation with <a class="reference external" href="https://www.sphinx-doc.org/en/master/">Sphinx</a>, which is what we will do below</p></li>
<li><p>Use the wiki section of your github repository (although almost no one actually does this!)</p></li>
</ol>
</li>
</ol>
<section id="create-readme-md">
<h2>Create README.md<a class="headerlink" href="#create-readme-md" title="Permalink to this heading"></a></h2>
<p>Inside DemoPythonProject, create a file called <code class="docutils literal notranslate"><span class="pre">README.md</span></code> and copy the below into it:</p>
<div class="highlight-markdown notranslate"><div class="highlight"><pre><span></span><span class="gh"># DemoPythonProject</span>

<span class="gs">**Author:**</span> <span class="ge">*{{ Your Name }}*</span>

<span class="ge">*Give a brief summary of the purpose of the code and what it does.*</span>

<span class="gu">## Setup/Build/Install</span>

For a properly package python package that is released on PyPi, the answer would be:
<span class="sb">```</span>
<span class="sb">pip install DemoPythonProject</span>
<span class="sb">```</span>

<span class="gu">## Usage</span>

See [<span class="nt">our documentation</span>](<span class="na">link</span>)

<span class="gu">## Directory Structure</span>

<span class="k">-</span> <span class="gs">**DemoPythonProject**</span> Source code
<span class="k">-</span> <span class="gs">**examples**</span> examples of how to use
<span class="k">-</span> <span class="gs">**docsrc**</span> source documentation
<span class="k">-</span> <span class="gs">**docs**</span> html documentation generated with sphinx
</pre></div>
</div>
</section>
<section id="code-comments-and-doc-strings">
<h2>Code comments and doc strings<a class="headerlink" href="#code-comments-and-doc-strings" title="Permalink to this heading"></a></h2>
<p>Whenever you write a new function, it’s a good idea to add a docstring to the top of it like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">add_two_floats</span><span class="p">(</span><span class="n">parameter1</span><span class="p">,</span> <span class="n">parameter2</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This is the docstring for some_function!</span>
<span class="sd">    At a minimum, the docstring should state what the goal of the function is.</span>
<span class="sd">    Ideally, it should also describe the inputs and outputs like this:</span>

<span class="sd">    :param parameter1: first number to be added</span>
<span class="sd">    :type parameter1: float</span>
<span class="sd">    :param parameter2: second number to be added</span>
<span class="sd">    :type parameter2: float</span>
<span class="sd">    :return: sum of parameter1 and parameter2</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="n">parameter1</span><span class="p">)</span> <span class="o">+</span> <span class="nb">float</span><span class="p">(</span><span class="n">parameter2</span><span class="p">)</span>
</pre></div>
</div>
<p>This docstring is written in the rst format. The commonly used formats for writing docstrings are described <a class="reference external" href="https://betterprogramming.pub/3-different-docstring-formats-for-python-d27be81e0d68">here</a>. Although you don’t have to use one of these formats (the docstring can contain any text) it’s probably a good habit to get into, because as you will see below it makes automating documentation generation very easy.</p>
<blockquote>
<div><p>A good tip for docstrings is that you should aim to describe <strong>what</strong> the function is supposed to do, but not <strong>how</strong> it does it. This is because the ‘how’ part often tends to change, and anyway if anyone really cares to know they can look through the code.</p>
</div></blockquote>
</section>
<section id="detailed-documentation-and-examples">
<h2>Detailed documentation and examples<a class="headerlink" href="#detailed-documentation-and-examples" title="Permalink to this heading"></a></h2>
<p>Ideally, the code readme is like the abstract of the paper: it should give someone a quick overview of what the code does and how it works, but only for the very simplest of codes will it be sufficient by itself. For writing more advanced documentation, you have multiple options:</p>
<ol class="arabic simple">
<li><p>Write a series of jupyter notebook. Jupyter combines code and markdown.  Everyone has already heard me complaining about what a bad development tool it is, but it’s actually excellent for writing documentation. So you could just write all your examples in jupyter notebooks, and this would be an acceptable solution</p></li>
<li><p>Use the built-in ‘wiki’ of your github repository. This allows you to host multiple documents written in markdown, just like the readme is</p></li>
<li><p>Set up sphinx to transform your markdown or rst documents into html that you can host. Sphinx has a number of advantages:</p>
<ol class="arabic simple">
<li><p>It looks way more professional than the other options.</p></li>
<li><p>Sphinx is specifically designed to generate documentation websites that are easy to read and navigate</p></li>
<li><p>Html is incredibly flexible and once you have a hosted webpage you can start to some some pretty cool things (e.g see the plotly library)</p></li>
<li><p>Sphinx can scan your code and generate code documentation directly from it - super cool!</p></li>
</ol>
</li>
</ol>
</section>
<section id="setting-up-sphinx">
<h2>Setting up sphinx<a class="headerlink" href="#setting-up-sphinx" title="Permalink to this heading"></a></h2>
<p>Setting up sphinx from scratch can be slightly painful, but luckily for you you will never have to do it! just either copy the docsrc folder from this repository into your own repository, or else use <a class="reference external" href="https://github.sydney.edu.au/Image-X/Template-python">this template</a> (only available to U.Syd members) when creating your repository.</p>
<section id="generating-sphinx-html">
<h3>Generating sphinx html<a class="headerlink" href="#generating-sphinx-html" title="Permalink to this heading"></a></h3>
<blockquote>
<div><p>Note: we assume you have already installed the libraries. If not, go <a class="reference external" href="https://acrf-image-x-institute.github.io/packaging_demo/set_up_environment.html">here</a></p>
</div></blockquote>
<p>To generate sphinx html, from the command line navigate to the docsrc folder and type</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make github
<span class="c1"># or on windows</span>
./make github
</pre></div>
</div>
<p>This will create a folder called docs. You can take a look at docs/index.html - this is going to be the ‘home’ page for your documentation. Right now, it probably doesn’t look that useful since it doesn’t reflect your actual project, so read on!</p>
</section>
<section id="updating-the-docsrc-to-actually-reflect-your-code">
<h3>Updating the docsrc to actually reflect your code!<a class="headerlink" href="#updating-the-docsrc-to-actually-reflect-your-code" title="Permalink to this heading"></a></h3>
<p>Whether you copied the docsrc folder from this project, or used the <a class="reference external" href="https://github.sydney.edu.au/Image-X/Template-python">template</a>, at the moment, your docs don’t reflect you actual project. Luckily, updating them is pretty simple. Inside the docsrc folder, open up the index.rst file. This is the ‘root’ of your documentation. You can see it has a basic preamble, then simply links to other files. To update the docs, you simply have to change this intro/ preamble, then update the index section to point to your new docs.</p>
</section>
<section id="markdown-versus-rst">
<h3>Markdown versus RST<a class="headerlink" href="#markdown-versus-rst" title="Permalink to this heading"></a></h3>
<p>You will notice that some of the docsrc files end with *.rst (reStructured Text) and some end with *.md (markdown). What are these?</p>
<p>Both are plain text files with a certain structure. rst is the default language for writing sphinx docs, while markdown is what is used in your github readme for instance. I prefer writing my docs in markdown, but either (or both!) are fine. There are many many resources online to help with both rst and markdown.</p>
</section>
<section id="setting-up-sphinx-to-scan-your-code-base-and-automatically-generate-docs">
<h3>setting up sphinx to scan your code base and automatically generate docs<a class="headerlink" href="#setting-up-sphinx-to-scan-your-code-base-and-automatically-generate-docs" title="Permalink to this heading"></a></h3>
<p>One thing that sphinx can do which is really cool is automatically generate documentation directly from your code. This only works if you write docstrings for your code, which of course we all do…right…right?</p>
<p>take a look at the last entry in the index.rst file (around line 49): this points to a file called /code_docs.rst. Open this file up; it looks like this:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="gh">Code Documentation</span>
<span class="gh">==================</span>

<span class="gh">sine_wave_utilities</span>
<span class="gh">-------------------</span>

<span class="p">..</span> <span class="ow">automodule</span><span class="p">::</span> MyPackage.sine_wave_utilities
   <span class="nc">:members:</span>
</pre></div>
</div>
<p>This directive tells sphinx to automatically generate documentation based on whatever it finds in the docstrings of “MyPackage.sine_wave_utilities”, which of course is the demo code included in this repository. The rest just works, because</p>
<ol class="arabic simple">
<li><p>I wrote docstrings for my code</p></li>
<li><p>in the docsrc/conf.py file, I added a line such that sphinx will be able to find this code. You shouldn’t actually need to change this line, but just so you know it’s there. In general, this conf.py file controls nearly everything about sphinx.</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="s1">&#39;..&#39;</span><span class="p">))</span>
<span class="c1"># this line inside conf.py makes sure sphinx will be able to find our module</span>
</pre></div>
</div>
</section>
<section id="hosting-sphinx-html-with-github">
<h3>hosting sphinx html with github<a class="headerlink" href="#hosting-sphinx-html-with-github" title="Permalink to this heading"></a></h3>
<p>OK: finally you got your documentation looking the way you like it. Make sure you add and commit everything in docs to git, then push the changes to github.</p>
<p>To host the html inside docs on github, go to settings, then find the pages section and set it up as in the screenshot below:</p>
<p><img alt="" src="_images/github_doc_hosting.png" /></p>
<p>That’s it!</p>
</section>
<section id="adding-a-link-to-the-new-webpage-to-github">
<h3>adding a link to the new webpage to github<a class="headerlink" href="#adding-a-link-to-the-new-webpage-to-github" title="Permalink to this heading"></a></h3>
<p>A website isn’t very useful unless people know where to find it!</p>
<p>the conventional spot to put a link to your project webpage is in the top right hand corner of the repo:</p>
<p><img alt="" src="_images/weblink.png" /></p>
<p>To update these section, just click the little gear icon and copy the link from the section above.</p>
</section>
<section id="changing-html-theme">
<h3>changing html theme<a class="headerlink" href="#changing-html-theme" title="Permalink to this heading"></a></h3>
<p>One of the cool things about having your docs in html is that it’s super easy to control the way html looks through the use of cascading style sheets, or css.</p>
<p>To change your sphinx theme, open up the conf.py file, find the <code class="docutils literal notranslate"><span class="pre">html_theme</span></code> parameter, and pick a new one. You can browse all available themes <a class="reference external" href="https://sphinx-themes.org/#themes">here</a>. Note that in general, you have to install a theme as well for it to work. <strong>if time, demo this with auto-docs</strong></p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="testing.html" class="btn btn-neutral float-left" title="Add tests" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="code_docs.html" class="btn btn-neutral float-right" title="Code Documentation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Brendan Whelan.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>